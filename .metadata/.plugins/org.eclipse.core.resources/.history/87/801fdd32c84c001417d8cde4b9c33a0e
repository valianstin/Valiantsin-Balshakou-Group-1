package com.epam.task.classloader;

import com.epam.task.classloader.functionality.Function;

//Create console application for dynamic reloading of existing development functionality. 
//Existing funcionality should be placed in specifed directory and should be archived in jar. 
//The application should have console menu for choosing option, the output should be done through usage of log4j library. 

public class App {

	public static void main(String[] args) throws InstantiationException, IllegalAccessException {
		//for (; ; ) {
			
            ClassLoader loader = new IncrementClassLoader("C:\\Users\\Forsted\\Desktop\\incrementImpl.jar",ClassLoader.getSystemClassLoader());
            try{
            Class clazz = Class.forName("com.epam.task.classloader.functionality.IncrementImpl1", true, loader);
            Class clazz = Class.forName("com.epam.task.classloader.functionality.Function", true, loader);
            int i=0;
            Function fun=clazz.newInstance();
            clazz.newInstance().;
            i=fun.increment(i);
            i=fun.increment(i);
            i=fun.increment(i);
   
            System.out.println(i);
            }catch(ClassNotFoundException e){
            	System.out.println("asfd");
            }
           
           /* TestModule object = (TestModule) clazz.newInstance();
            logger.info(object);
            TestModuleWrapper wrapper = new TestModuleWrapper(object);
            wrapper.hello();
            new BufferedReader(new InputStreamReader(System.in)).readLine();*/
        //}

	}

}
